<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>NEUROSLINK AI Toolkit - Interactive Examples</title>

    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="/assets/icons/favicon.ico" />
    <link
      rel="apple-touch-icon"
      sizes="180x180"
      href="/assets/icons/apple-touch-icon.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="32x32"
      href="/assets/icons/favicon-32x32.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="16x16"
      href="/assets/icons/favicon-16x16.png"
    />

    <style>
      /* Abster Font */
      @font-face {
        font-family: "Abster";
        src:
          url("/assets/fonts/ABSTERRegular.woff2") format("woff2"),
          url("/assets/fonts/ABSTERRegular.woff") format("woff"),
          url("/assets/fonts/ABSTERRegular.ttf") format("truetype");
        font-weight: normal;
        font-style: normal;
      }
      * {
        box-sizing: border-box;
      }
      body {
        font-family:
          -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
        margin: 0;
        padding: 20px;
        background: #f8f9fa;
        line-height: 1.6;
      }
      .container {
        max-width: 1400px;
        margin: 0 auto;
      }
      .header {
        text-align: center;
        margin-bottom: 40px;
      }
      .logo {
        width: 120px;
        height: 120px;
        display: block;
        margin: 0 auto 20px;
      }

      .logo-inline {
        width: 60px;
        height: 60px;
        vertical-align: middle;
        margin-right: 15px;
      }

      .header h1 {
        color: #2c3e50;
        margin-bottom: 10px;
        font-size: 2.5em;
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 15px;
      }

      .brand-name {
        font-family:
          "Abster",
          -apple-system,
          BlinkMacSystemFont,
          sans-serif;
        font-weight: normal;
      }

      .brand-subtitle {
        font-family:
          -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
        font-weight: 400;
      }
      .header p {
        color: #7f8c8d;
        font-size: 18px;
      }
      .tabs {
        display: flex;
        flex-wrap: wrap;
        gap: 10px;
        margin-bottom: 30px;
        border-bottom: 2px solid #ecf0f1;
        padding-bottom: 10px;
      }
      .tab {
        padding: 12px 24px;
        background: white;
        border: 2px solid #ecf0f1;
        border-radius: 8px;
        cursor: pointer;
        transition: all 0.3s;
        font-weight: 500;
        color: #2c3e50;
      }
      .tab:hover {
        border-color: #3498db;
      }
      .tab.active {
        background: #3498db;
        color: white;
        border-color: #3498db;
      }
      .tab-content {
        display: none;
      }
      .tab-content.active {
        display: block;
      }
      .grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
        gap: 20px;
      }
      .card {
        background: white;
        border-radius: 12px;
        padding: 24px;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        border: 1px solid #ecf0f1;
      }
      .card h3 {
        margin-top: 0;
        color: #2c3e50;
        display: flex;
        align-items: center;
        gap: 10px;
      }
      .btn {
        background: #3498db;
        color: white;
        border: none;
        padding: 12px 24px;
        border-radius: 6px;
        cursor: pointer;
        font-size: 14px;
        font-weight: 500;
        transition: background 0.3s;
        margin: 5px 5px 5px 0;
        display: inline-block;
      }
      .btn:hover {
        background: #2980b9;
      }
      .btn.secondary {
        background: #95a5a6;
      }
      .btn.secondary:hover {
        background: #7f8c8d;
      }
      .form-group {
        margin: 15px 0;
      }
      .form-group label {
        display: block;
        margin-bottom: 5px;
        font-weight: 500;
        color: #2c3e50;
      }
      textarea,
      input,
      select {
        width: 100%;
        padding: 12px;
        border: 2px solid #ecf0f1;
        border-radius: 6px;
        font-size: 14px;
        font-family: inherit;
        transition: border-color 0.3s;
      }
      textarea:focus,
      input:focus,
      select:focus {
        outline: none;
        border-color: #3498db;
      }
      .output {
        background: #f8f9fa;
        border: 2px solid #ecf0f1;
        padding: 20px;
        border-radius: 8px;
        margin-top: 15px;
        white-space: pre-wrap;
        max-height: 300px;
        overflow-y: auto;
        font-family: "Monaco", "Menlo", monospace;
        font-size: 13px;
        line-height: 1.4;
      }
      .status {
        padding: 12px 16px;
        margin: 10px 0;
        border-radius: 6px;
        font-weight: 500;
        display: flex;
        align-items: center;
        gap: 10px;
      }
      .status.success {
        background: #d5f4e6;
        color: #27ae60;
        border: 1px solid #27ae60;
      }
      .status.error {
        background: #fadbd8;
        color: #e74c3c;
        border: 1px solid #e74c3c;
      }
      .status.loading {
        background: #fff3cd;
        color: #f39c12;
        border: 1px solid #f39c12;
      }
      .metrics {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
        gap: 10px;
        margin: 15px 0;
      }
      .metric {
        background: #ecf0f1;
        padding: 10px;
        border-radius: 6px;
        text-align: center;
        border: 1px solid #bdc3c7;
      }
      .metric-value {
        font-size: 20px;
        font-weight: bold;
        color: #2c3e50;
      }
      .metric-label {
        font-size: 12px;
        color: #7f8c8d;
        text-transform: uppercase;
      }

      /* Responsive Design */
      @media (max-width: 768px) {
        body {
          padding: 10px;
        }

        .container {
          padding: 0 10px;
        }

        .logo {
          width: 80px;
          height: 80px;
          margin-bottom: 15px;
        }

        .header h1 {
          font-size: 2em;
        }

        .header p {
          font-size: 16px;
        }

        .tabs {
          flex-direction: column;
          gap: 8px;
        }

        .tab {
          padding: 10px 16px;
          font-size: 14px;
        }

        .grid {
          grid-template-columns: 1fr;
          gap: 15px;
        }

        .card {
          padding: 20px;
        }

        .card h3 {
          font-size: 1.3em;
        }

        .btn {
          width: 100%;
          padding: 14px;
          font-size: 16px;
        }

        .metrics {
          grid-template-columns: repeat(3, 1fr);
          gap: 8px;
        }

        .metric {
          padding: 12px 8px;
        }

        .metric-value {
          font-size: 18px;
        }

        .metric-label {
          font-size: 10px;
        }

        .output {
          font-size: 12px;
          max-height: 200px;
        }

        textarea,
        input,
        select {
          font-size: 16px; /* Prevents zoom on iOS */
        }
      }
    </style>
  </head>
  <body>
    <div class="container">
      <div class="header">
        <h1>
          <img
            src="/assets/images/logo.png"
            alt="NeuroLink Logo"
            class="logo-inline"
          /><span class="brand-name">NEUROSLINK</span>
        </h1>
        <p>AI Toolkit with Interactive Examples and Real-World Use Cases</p>
        <div class="metrics">
          <div class="metric">
            <div class="metric-value" id="total-requests">0</div>
            <div class="metric-label">Requests</div>
          </div>
          <div class="metric">
            <div class="metric-value" id="active-providers">3</div>
            <div class="metric-label">Providers</div>
          </div>
          <div class="metric">
            <div class="metric-value" id="total-tokens">0</div>
            <div class="metric-label">Tokens</div>
          </div>
        </div>
      </div>

      <div class="tabs">
        <div class="tab active" onclick="showTab('basic')">
          üöÄ Basic Examples
        </div>
        <div class="tab" onclick="showTab('business')">
          üíº Business Use Cases
        </div>
        <div class="tab" onclick="showTab('creative')">üé® Creative Tools</div>
        <div class="tab" onclick="showTab('developer')">üë®‚Äçüíª Developer Tools</div>
        <div class="tab" onclick="showTab('mcp')">üîß MCP Integration</div>
        <div class="tab" onclick="showTab('monitoring')">üìä Monitoring</div>
      </div>

      <!-- Basic Examples Tab -->
      <div id="basic" class="tab-content active">
        <div class="grid">
          <div class="card">
            <h3>ü§ñ AI Provider Testing</h3>
            <div class="form-group">
              <label>Choose Provider:</label>
              <select id="basic-provider">
                <option value="auto">üéØ Auto (Best Available)</option>
                <option value="openai">üü¢ OpenAI (GPT-4)</option>
                <option value="bedrock">üü† Amazon Bedrock (Claude)</option>
                <option value="vertex">üîµ Google Vertex AI (Gemini)</option>
              </select>
            </div>
            <div class="form-group">
              <label>Your Prompt:</label>
              <textarea id="basic-prompt" rows="3">
Explain the concept of machine learning in simple terms.</textarea
              >
            </div>
            <button class="btn" onclick="generateBasic()">Generate Text</button>
            <div id="basic-status"></div>
            <div id="basic-output" class="output"></div>
          </div>

          <div class="card">
            <h3>üéØ Schema Validation</h3>
            <p>Generate structured data with validation:</p>
            <div class="form-group">
              <label>Select Data Type:</label>
              <select id="schema-type">
                <option value="user-profile">üë§ User Profile</option>
                <option value="product-review">‚≠ê Product Review</option>
                <option value="meeting-notes">üìù Meeting Notes</option>
              </select>
            </div>
            <button class="btn" onclick="generateSchema()">
              Generate Data
            </button>
            <div id="schema-status"></div>
            <div id="schema-output" class="output"></div>
          </div>

          <div class="card">
            <h3>‚ö° Performance Benchmark</h3>
            <p>Compare response times across providers:</p>
            <button class="btn" onclick="runBenchmark()">Run Benchmark</button>
            <div id="benchmark-status"></div>
            <div id="benchmark-output" class="output"></div>
          </div>
        </div>
      </div>

      <!-- Business Use Cases Tab -->
      <div id="business" class="tab-content">
        <div class="grid">
          <div class="card">
            <h3>üìß Email Generator</h3>
            <div class="form-group">
              <label>Email Type:</label>
              <select id="email-type">
                <option value="marketing">üì¢ Marketing Email</option>
                <option value="support">üõ†Ô∏è Customer Support</option>
                <option value="follow-up">üìû Follow-up Email</option>
              </select>
            </div>
            <div class="form-group">
              <label>Context:</label>
              <textarea id="email-context" rows="3">
New product launch announcement for our AI-powered analytics tool.</textarea
              >
            </div>
            <button class="btn" onclick="generateEmail()">
              Generate Email
            </button>
            <div id="email-status"></div>
            <div id="email-output" class="output"></div>
          </div>

          <div class="card">
            <h3>üìä Data Analysis</h3>
            <div class="form-group">
              <label>Data (CSV format):</label>
              <textarea id="data-input" rows="4">
Product,Sales,Month
Widget A,1500,January
Widget B,2300,January
Widget C,1200,January</textarea
              >
            </div>
            <button class="btn" onclick="analyzeData()">Analyze Data</button>
            <div id="data-status"></div>
            <div id="data-output" class="output"></div>
          </div>

          <div class="card">
            <h3>üìù Document Summarizer</h3>
            <div class="form-group">
              <label>Document Text:</label>
              <textarea id="doc-text" rows="4">
Artificial Intelligence (AI) has revolutionized numerous industries by automating complex tasks and providing insights that were previously impossible to obtain. Machine learning algorithms can analyze vast datasets to identify patterns, make predictions, and drive decision-making processes. From healthcare diagnostics to financial fraud detection, AI applications continue to expand rapidly across sectors.</textarea
              >
            </div>
            <div class="form-group">
              <label>Summary Length:</label>
              <select id="summary-length">
                <option value="brief">üìÑ Brief</option>
                <option value="medium">üìÉ Medium</option>
                <option value="detailed">üìë Detailed</option>
              </select>
            </div>
            <button class="btn" onclick="summarizeDocument()">Summarize</button>
            <div id="doc-status"></div>
            <div id="doc-output" class="output"></div>
          </div>
        </div>
      </div>

      <!-- Creative Tools Tab -->
      <div id="creative" class="tab-content">
        <div class="grid">
          <div class="card">
            <h3>‚úçÔ∏è Creative Writing</h3>
            <div class="form-group">
              <label>Writing Type:</label>
              <select id="writing-type">
                <option value="story">üìö Short Story</option>
                <option value="poem">üìù Poem</option>
                <option value="dialogue">üí¨ Dialogue</option>
              </select>
            </div>
            <div class="form-group">
              <label>Theme/Prompt:</label>
              <textarea id="writing-prompt" rows="3">
A time traveler discovers they can only travel to moments of great historical significance.</textarea
              >
            </div>
            <button class="btn" onclick="generateCreative()">
              Create Content
            </button>
            <div id="writing-status"></div>
            <div id="writing-output" class="output"></div>
          </div>

          <div class="card">
            <h3>üåç Language Translation</h3>
            <div class="form-group">
              <label>Source Text:</label>
              <textarea id="translate-text" rows="3">
Hello, how are you today? I hope you're having a wonderful day!</textarea
              >
            </div>
            <div class="form-group">
              <label>Target Language:</label>
              <select id="target-language">
                <option value="spanish">üá™üá∏ Spanish</option>
                <option value="french">üá´üá∑ French</option>
                <option value="german">üá©üá™ German</option>
                <option value="japanese">üáØüáµ Japanese</option>
              </select>
            </div>
            <button class="btn" onclick="translateText()">Translate</button>
            <div id="translate-status"></div>
            <div id="translate-output" class="output"></div>
          </div>

          <div class="card">
            <h3>üé® Content Ideas</h3>
            <div class="form-group">
              <label>Content Type:</label>
              <select id="content-type">
                <option value="blog">üìñ Blog Posts</option>
                <option value="social">üì± Social Media</option>
                <option value="video">üé• Video Scripts</option>
              </select>
            </div>
            <div class="form-group">
              <label>Topic/Industry:</label>
              <input
                type="text"
                id="content-topic"
                value="artificial intelligence"
              />
            </div>
            <button class="btn" onclick="generateIdeas()">
              Generate Ideas
            </button>
            <div id="content-status"></div>
            <div id="content-output" class="output"></div>
          </div>
        </div>
      </div>

      <!-- Developer Tools Tab -->
      <div id="developer" class="tab-content">
        <div class="grid">
          <div class="card">
            <h3>üíª Code Generator</h3>
            <div class="form-group">
              <label>Programming Language:</label>
              <select id="code-language">
                <option value="javascript">JavaScript</option>
                <option value="python">Python</option>
                <option value="typescript">TypeScript</option>
                <option value="react">React/JSX</option>
              </select>
            </div>
            <div class="form-group">
              <label>Code Description:</label>
              <textarea id="code-description" rows="3">
Create a function that validates email addresses using regex and returns true/false.</textarea
              >
            </div>
            <button class="btn" onclick="generateCode()">Generate Code</button>
            <div id="code-status"></div>
            <div id="code-output" class="output"></div>
          </div>

          <div class="card">
            <h3>üîç API Documentation</h3>
            <div class="form-group">
              <label>API Description:</label>
              <textarea id="api-description" rows="3">
A REST API for managing user accounts with endpoints for creating, reading, updating, and deleting users.</textarea
              >
            </div>
            <button class="btn" onclick="generateAPIDoc()">
              Generate Documentation
            </button>
            <div id="api-status"></div>
            <div id="api-output" class="output"></div>
          </div>

          <div class="card">
            <h3>üêõ Debug Helper</h3>
            <div class="form-group">
              <label>Error Message/Code:</label>
              <textarea id="debug-input" rows="4">
TypeError: Cannot read property 'map' of undefined
  at UserList.render (UserList.js:15:23)</textarea
              >
            </div>
            <button class="btn" onclick="debugError()">Analyze Error</button>
            <div id="debug-status"></div>
            <div id="debug-output" class="output"></div>
          </div>
        </div>
      </div>

      <!-- MCP Integration Tab -->
      <div id="mcp" class="tab-content">
        <div class="grid">
          <div class="card">
            <h3>üèóÔ∏è MCP Server Management</h3>
            <div class="form-group">
              <label>Server Type:</label>
              <select id="mcp-server-type">
                <option value="filesystem">üìÅ Filesystem Operations</option>
                <option value="github">üêô GitHub Integration</option>
                <option value="postgres">üóÑÔ∏è PostgreSQL Database</option>
                <option value="custom">üîß Custom Server</option>
              </select>
            </div>
            <div class="form-group">
              <label>Action:</label>
              <select id="mcp-action">
                <option value="install">üì¶ Install Server</option>
                <option value="test">üîç Test Connection</option>
                <option value="list">üìã List Servers</option>
                <option value="status">üìä Check Status</option>
              </select>
            </div>
            <button class="btn" onclick="manageMCPServer()">
              Execute MCP Command
            </button>
            <div id="mcp-server-status"></div>
            <div id="mcp-server-output" class="output"></div>
          </div>

          <div class="card">
            <h3>üõ†Ô∏è Tool Execution</h3>
            <div class="form-group">
              <label>MCP Server:</label>
              <select id="tool-server">
                <option value="filesystem">üìÅ Filesystem</option>
                <option value="github">üêô GitHub</option>
                <option value="postgres">üóÑÔ∏è PostgreSQL</option>
              </select>
            </div>
            <div class="form-group">
              <label>Tool:</label>
              <select id="tool-name">
                <option value="read_file">üìÑ Read File</option>
                <option value="list_directory">üìÇ List Directory</option>
                <option value="search_files">üîç Search Files</option>
              </select>
            </div>
            <div class="form-group">
              <label>Parameters (JSON):</label>
              <textarea id="tool-params" rows="3">
{"path": "/Users/user/Documents"}</textarea
              >
            </div>
            <button class="btn" onclick="executeMCPTool()">Execute Tool</button>
            <div id="tool-status"></div>
            <div id="tool-output" class="output"></div>
          </div>

          <div class="card">
            <h3>üîÑ Workflow Integration</h3>
            <div class="form-group">
              <label>Workflow Type:</label>
              <select id="workflow-type">
                <option value="code-analysis">üíª Code Analysis</option>
                <option value="file-processing">üìÅ File Processing</option>
                <option value="github-automation">üêô GitHub Automation</option>
                <option value="data-pipeline">üìä Data Pipeline</option>
              </select>
            </div>
            <div class="form-group">
              <label>Workflow Description:</label>
              <textarea id="workflow-description" rows="3">
Analyze project structure, generate documentation, and create GitHub issue</textarea
              >
            </div>
            <button class="btn" onclick="runMCPWorkflow()">Run Workflow</button>
            <div id="workflow-status"></div>
            <div id="workflow-output" class="output"></div>
          </div>

          <div class="card">
            <h3>üìã MCP Server List</h3>
            <button class="btn" onclick="loadMCPServers()">
              Refresh Server List
            </button>
            <div id="mcp-servers-output" class="output"></div>
          </div>

          <div class="card">
            <h3>üìä MCP Analytics</h3>
            <button class="btn" onclick="loadMCPAnalytics()">
              Load MCP Analytics
            </button>
            <div id="mcp-analytics-output" class="output"></div>
          </div>
        </div>
      </div>

      <!-- Monitoring Tab -->
      <div id="monitoring" class="tab-content">
        <div class="grid">
          <div class="card">
            <h3>üìà Usage Analytics</h3>
            <button class="btn" onclick="loadAnalytics()">
              Refresh Analytics
            </button>
            <div id="analytics-output" class="output"></div>
          </div>

          <div class="card">
            <h3>üîß Provider Status</h3>
            <button class="btn" onclick="checkProviders()">
              Check All Providers
            </button>
            <div id="provider-status" class="output"></div>
          </div>
        </div>
      </div>
    </div>

    <script>
      // Global state management
      let currentStats = { requests: 0, providers: 3, tokens: 0 };

      // Tab management
      function showTab(tabName) {
        document
          .querySelectorAll(".tab")
          .forEach((tab) => tab.classList.remove("active"));
        document
          .querySelectorAll(".tab-content")
          .forEach((content) => content.classList.remove("active"));

        event.target.classList.add("active");
        document.getElementById(tabName).classList.add("active");
      }

      // Utility functions
      function setStatus(elementId, message, type = "info") {
        const status = document.getElementById(elementId);
        if (status) {
          status.className = "status " + type;
          status.textContent = message;
        }
      }

      function setOutput(elementId, content) {
        const output = document.getElementById(elementId);
        if (output) {
          output.textContent = content;
        }
      }

      async function apiCall(endpoint, data = {}) {
        try {
          const response = await fetch(endpoint, {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify(data),
          });
          return await response.json();
        } catch (error) {
          throw new Error("Network error: " + error.message);
        }
      }

      // Update metrics display
      function updateMetrics(response) {
        if (response.usage) {
          currentStats.tokens += response.usage.totalTokens || 0;
          document.getElementById("total-tokens").textContent =
            currentStats.tokens;
        }
        currentStats.requests++;
        document.getElementById("total-requests").textContent =
          currentStats.requests;
      }

      // Basic Examples functions
      async function generateBasic() {
        const provider = document.getElementById("basic-provider").value;
        const prompt = document.getElementById("basic-prompt").value;

        if (!prompt.trim()) {
          setStatus("basic-status", "Please enter a prompt", "error");
          return;
        }

        setStatus("basic-status", "Generating response...", "loading");
        setOutput("basic-output", "");

        try {
          const result = await apiCall("/api/generate", { provider, prompt });
          if (result.success) {
            setOutput("basic-output", result.content);
            setStatus(
              "basic-status",
              `Generated successfully using ${result.provider} in ${result.responseTime}ms`,
              "success",
            );
            updateMetrics(result);
          } else {
            setStatus("basic-status", "Error: " + result.error, "error");
          }
        } catch (error) {
          setStatus(
            "basic-status",
            "Request failed: " + error.message,
            "error",
          );
        }
      }

      async function generateSchema() {
        const schemaType = document.getElementById("schema-type").value;
        setStatus("schema-status", "Generating structured data...", "loading");

        try {
          const result = await apiCall("/api/schema", { type: schemaType });
          if (result.success) {
            setOutput(
              "schema-output",
              JSON.stringify(result.structuredData, null, 2),
            );
            setStatus(
              "schema-status",
              "Schema generated successfully",
              "success",
            );
            updateMetrics(result);
          } else {
            setStatus("schema-status", "Error: " + result.error, "error");
          }
        } catch (error) {
          setStatus("schema-status", "Error: " + error.message, "error");
        }
      }

      async function runBenchmark() {
        setStatus("benchmark-status", "Running benchmark...", "loading");

        try {
          const result = await apiCall("/api/benchmark");
          setOutput("benchmark-output", JSON.stringify(result, null, 2));
          setStatus("benchmark-status", "Benchmark completed", "success");
        } catch (error) {
          setStatus("benchmark-status", "Error: " + error.message, "error");
        }
      }

      // Business Use Cases functions
      async function generateEmail() {
        const type = document.getElementById("email-type").value;
        const context = document.getElementById("email-context").value;
        setStatus("email-status", "Generating email...", "loading");

        try {
          const result = await apiCall("/api/business/email", {
            type,
            context,
          });
          if (result.success) {
            setOutput("email-output", result.content);
            setStatus(
              "email-status",
              "Email generated successfully",
              "success",
            );
            updateMetrics(result);
          } else {
            setStatus("email-status", "Error: " + result.error, "error");
          }
        } catch (error) {
          setStatus("email-status", "Error: " + error.message, "error");
        }
      }

      async function analyzeData() {
        const data = document.getElementById("data-input").value;
        setStatus("data-status", "Analyzing data...", "loading");

        try {
          const result = await apiCall("/api/business/analyze-data", { data });
          if (result.success) {
            setOutput("data-output", result.content);
            setStatus("data-status", "Analysis completed", "success");
            updateMetrics(result);
          } else {
            setStatus("data-status", "Error: " + result.error, "error");
          }
        } catch (error) {
          setStatus("data-status", "Error: " + error.message, "error");
        }
      }

      async function summarizeDocument() {
        const text = document.getElementById("doc-text").value;
        const length = document.getElementById("summary-length").value;
        setStatus("doc-status", "Summarizing document...", "loading");

        try {
          const result = await apiCall("/api/business/summarize", {
            text,
            length,
          });
          if (result.success) {
            setOutput("doc-output", result.content);
            setStatus("doc-status", "Summary generated", "success");
            updateMetrics(result);
          } else {
            setStatus("doc-status", "Error: " + result.error, "error");
          }
        } catch (error) {
          setStatus("doc-status", "Error: " + error.message, "error");
        }
      }

      // Creative Tools functions
      async function generateCreative() {
        const type = document.getElementById("writing-type").value;
        const prompt = document.getElementById("writing-prompt").value;
        setStatus("writing-status", "Creating content...", "loading");

        try {
          const result = await apiCall("/api/creative/writing", {
            type,
            prompt,
          });
          if (result.success) {
            setOutput("writing-output", result.content);
            setStatus(
              "writing-status",
              "Content created successfully",
              "success",
            );
            updateMetrics(result);
          } else {
            setStatus("writing-status", "Error: " + result.error, "error");
          }
        } catch (error) {
          setStatus("writing-status", "Error: " + error.message, "error");
        }
      }

      async function translateText() {
        const text = document.getElementById("translate-text").value;
        const language = document.getElementById("target-language").value;
        setStatus("translate-status", "Translating...", "loading");

        try {
          const result = await apiCall("/api/creative/translate", {
            text,
            language,
          });
          if (result.success) {
            setOutput("translate-output", result.content);
            setStatus("translate-status", "Translation completed", "success");
            updateMetrics(result);
          } else {
            setStatus("translate-status", "Error: " + result.error, "error");
          }
        } catch (error) {
          setStatus("translate-status", "Error: " + error.message, "error");
        }
      }

      async function generateIdeas() {
        const type = document.getElementById("content-type").value;
        const topic = document.getElementById("content-topic").value;
        setStatus("content-status", "Generating ideas...", "loading");

        try {
          const result = await apiCall("/api/creative/ideas", { type, topic });
          if (result.success) {
            setOutput("content-output", result.content);
            setStatus(
              "content-status",
              "Ideas generated successfully",
              "success",
            );
            updateMetrics(result);
          } else {
            setStatus("content-status", "Error: " + result.error, "error");
          }
        } catch (error) {
          setStatus("content-status", "Error: " + error.message, "error");
        }
      }

      // Developer Tools functions
      async function generateCode() {
        const language = document.getElementById("code-language").value;
        const description = document.getElementById("code-description").value;
        setStatus("code-status", "Generating code...", "loading");

        try {
          const result = await apiCall("/api/developer/code", {
            language,
            description,
          });
          if (result.success) {
            setOutput("code-output", result.content);
            setStatus("code-status", "Code generated successfully", "success");
            updateMetrics(result);
          } else {
            setStatus("code-status", "Error: " + result.error, "error");
          }
        } catch (error) {
          setStatus("code-status", "Error: " + error.message, "error");
        }
      }

      async function generateAPIDoc() {
        const description = document.getElementById("api-description").value;
        setStatus("api-status", "Generating documentation...", "loading");

        try {
          const result = await apiCall("/api/developer/api-doc", {
            description,
          });
          if (result.success) {
            setOutput("api-output", result.content);
            setStatus(
              "api-status",
              "Documentation generated successfully",
              "success",
            );
            updateMetrics(result);
          } else {
            setStatus("api-status", "Error: " + result.error, "error");
          }
        } catch (error) {
          setStatus("api-status", "Error: " + error.message, "error");
        }
      }

      async function debugError() {
        const error = document.getElementById("debug-input").value;
        setStatus("debug-status", "Analyzing error...", "loading");

        try {
          const result = await apiCall("/api/developer/debug", { error });
          if (result.success) {
            setOutput("debug-output", result.content);
            setStatus("debug-status", "Analysis completed", "success");
            updateMetrics(result);
          } else {
            setStatus("debug-status", "Error: " + result.error, "error");
          }
        } catch (error) {
          setStatus("debug-status", "Error: " + error.message, "error");
        }
      }

      // Monitoring functions
      async function loadAnalytics() {
        try {
          const response = await fetch("/api/analytics");
          const analytics = await response.json();
          setOutput("analytics-output", JSON.stringify(analytics, null, 2));
        } catch (error) {
          setOutput(
            "analytics-output",
            "Error loading analytics: " + error.message,
          );
        }
      }

      async function checkProviders() {
        try {
          const response = await fetch("/api/status");
          const status = await response.json();
          setOutput("provider-status", JSON.stringify(status, null, 2));
        } catch (error) {
          setOutput(
            "provider-status",
            "Error checking providers: " + error.message,
          );
        }
      }

      // MCP Integration functions - Enhanced with real API integration
      async function manageMCPServer() {
        const serverType = document.getElementById("mcp-server-type").value;
        const action = document.getElementById("mcp-action").value;
        setStatus(
          "mcp-server-status",
          `${action}ing ${serverType} server...`,
          "loading",
        );

        try {
          let result;

          switch (action) {
            case "install":
              result = await apiCall("/api/mcp/install", {
                serverName: serverType,
              });
              break;
            case "test":
              result = await fetch(`/api/mcp/test/${serverType}`, {
                method: "POST",
              });
              result = await result.json();
              break;
            case "list":
              result = await fetch("/api/mcp/servers");
              result = await result.json();
              break;
            case "status":
              result = await fetch("/api/mcp/status");
              result = await result.json();
              break;
            default:
              throw new Error("Unknown action");
          }

          if (result.success) {
            setOutput("mcp-server-output", JSON.stringify(result, null, 2));
            setStatus(
              "mcp-server-status",
              `${action} completed successfully`,
              "success",
            );
          } else {
            setOutput("mcp-server-output", JSON.stringify(result, null, 2));
            setStatus(
              "mcp-server-status",
              `${action} completed with warnings`,
              "warning",
            );
          }
        } catch (error) {
          setStatus("mcp-server-status", "Error: " + error.message, "error");
          setOutput(
            "mcp-server-output",
            `Error: ${error.message}\n\nThis might indicate that the MCP CLI is not available or the server connection failed.`,
          );
        }
      }

      async function executeMCPTool() {
        const serverName = document.getElementById("tool-server").value;
        const toolName = document.getElementById("tool-name").value;
        const paramsText = document.getElementById("tool-params").value;
        setStatus("tool-status", "Executing MCP tool...", "loading");

        try {
          let params = {};
          if (paramsText.trim()) {
            params = JSON.parse(paramsText);
          }

          const result = await apiCall("/api/mcp/execute", {
            serverName,
            toolName,
            params,
          });

          if (result.success) {
            setOutput("tool-output", JSON.stringify(result, null, 2));
            setStatus("tool-status", "Tool executed successfully", "success");
          } else {
            setOutput("tool-output", JSON.stringify(result, null, 2));
            setStatus(
              "tool-status",
              "Tool execution failed: " + result.error,
              "error",
            );
          }
        } catch (error) {
          setStatus("tool-status", "Error: " + error.message, "error");
          setOutput(
            "tool-output",
            `Error: ${error.message}\n\nPlease check that:\n1. Server name is correct\n2. Tool name exists on the server\n3. Parameters are valid JSON`,
          );
        }
      }

      async function runMCPWorkflow() {
        const workflowType = document.getElementById("workflow-type").value;
        const description = document.getElementById(
          "workflow-description",
        ).value;
        setStatus("workflow-status", "Running MCP workflow...", "loading");

        try {
          const result = await apiCall("/api/mcp/workflow", {
            workflowType,
            description,
          });

          if (result.success) {
            setOutput("workflow-output", JSON.stringify(result, null, 2));
            setStatus(
              "workflow-status",
              "Workflow completed successfully",
              "success",
            );
          } else {
            setOutput("workflow-output", JSON.stringify(result, null, 2));
            setStatus(
              "workflow-status",
              "Workflow failed: " + result.error,
              "error",
            );
          }
        } catch (error) {
          setStatus("workflow-status", "Error: " + error.message, "error");
          setOutput(
            "workflow-output",
            `Error: ${error.message}\n\nWorkflow execution failed. This may indicate missing MCP servers or configuration issues.`,
          );
        }
      }

      async function loadMCPServers() {
        setStatus("mcp-servers-status", "Loading MCP servers...", "loading");

        try {
          const response = await fetch("/api/mcp/servers");
          const servers = await response.json();

          if (servers.success) {
            setOutput("mcp-servers-output", JSON.stringify(servers, null, 2));
            setStatus(
              "mcp-servers-status",
              `Loaded ${servers.totalServers} servers (${servers.availableServers} available)`,
              "success",
            );
          } else {
            setOutput("mcp-servers-output", JSON.stringify(servers, null, 2));
            setStatus("mcp-servers-status", "Failed to load servers", "error");
          }
        } catch (error) {
          setStatus("mcp-servers-status", "Error: " + error.message, "error");
          setOutput(
            "mcp-servers-output",
            `Error loading MCP servers: ${error.message}\n\nThis may indicate that MCP configuration is missing or the CLI is not available.`,
          );
        }
      }

      async function loadMCPAnalytics() {
        setStatus(
          "mcp-analytics-status",
          "Loading MCP analytics...",
          "loading",
        );

        try {
          const response = await fetch("/api/mcp/status");
          const analytics = await response.json();

          if (analytics.success) {
            setOutput(
              "mcp-analytics-output",
              JSON.stringify(analytics, null, 2),
            );
            setStatus(
              "mcp-analytics-status",
              "MCP analytics loaded successfully",
              "success",
            );
          } else {
            setOutput(
              "mcp-analytics-output",
              JSON.stringify(analytics, null, 2),
            );
            setStatus(
              "mcp-analytics-status",
              "Analytics loaded with warnings",
              "warning",
            );
          }
        } catch (error) {
          setStatus("mcp-analytics-status", "Error: " + error.message, "error");
          setOutput(
            "mcp-analytics-output",
            `Error loading MCP analytics: ${error.message}\n\nThis may indicate MCP system is not properly configured.`,
          );
        }
      }

      // New MCP helper functions
      async function installMCPServer(serverName) {
        try {
          const result = await apiCall("/api/mcp/install", { serverName });
          return result;
        } catch (error) {
          throw error;
        }
      }

      async function removeMCPServer(serverName) {
        try {
          const response = await fetch(`/api/mcp/servers/${serverName}`, {
            method: "DELETE",
          });
          return await response.json();
        } catch (error) {
          throw error;
        }
      }

      async function getMCPServerTools(serverName) {
        try {
          const response = await fetch(`/api/mcp/tools/${serverName}`);
          return await response.json();
        } catch (error) {
          throw error;
        }
      }

      // Quick MCP server management buttons
      async function quickInstallFilesystem() {
        setStatus(
          "mcp-server-status",
          "Installing filesystem server...",
          "loading",
        );
        try {
          const result = await installMCPServer("filesystem");
          setOutput("mcp-server-output", JSON.stringify(result, null, 2));
          setStatus(
            "mcp-server-status",
            "Filesystem server installed successfully",
            "success",
          );
          loadMCPServers(); // Refresh server list
        } catch (error) {
          setStatus(
            "mcp-server-status",
            "Installation failed: " + error.message,
            "error",
          );
        }
      }

      async function quickInstallGithub() {
        setStatus(
          "mcp-server-status",
          "Installing GitHub server...",
          "loading",
        );
        try {
          const result = await installMCPServer("github");
          setOutput("mcp-server-output", JSON.stringify(result, null, 2));
          setStatus(
            "mcp-server-status",
            "GitHub server installed successfully",
            "success",
          );
          loadMCPServers(); // Refresh server list
        } catch (error) {
          setStatus(
            "mcp-server-status",
            "Installation failed: " + error.message,
            "error",
          );
        }
      }

      async function quickInstallPostgres() {
        setStatus(
          "mcp-server-status",
          "Installing PostgreSQL server...",
          "loading",
        );
        try {
          const result = await installMCPServer("postgres");
          setOutput("mcp-server-output", JSON.stringify(result, null, 2));
          setStatus(
            "mcp-server-status",
            "PostgreSQL server installed successfully",
            "success",
          );
          loadMCPServers(); // Refresh server list
        } catch (error) {
          setStatus(
            "mcp-server-status",
            "Installation failed: " + error.message,
            "error",
          );
        }
      }

      // Helper functions for MCP simulation
      function generateMCPServerOutput(serverType, action) {
        const outputs = {
          install: {
            filesystem: `üì¶ Installing MCP Server: filesystem

‚úÖ Added filesystem server configuration
   Command: npx -y @modelcontextprotocol/server-filesystem /
   Transport: stdio

üìÑ Configuration saved to .mcp-config.json

üîç Testing server connectivity...
‚úÖ Connection successful!

üìã Server Capabilities:
   Protocol Version: 2024-11-05
   Tools: ‚úÖ Supported (9 tools available)
   Resources: ‚úÖ Supported

üõ†Ô∏è Available Tools:
   ‚Ä¢ read_file - Read file contents from filesystem
   ‚Ä¢ write_file - Create or overwrite files
   ‚Ä¢ list_directory - List directory contents
   ‚Ä¢ create_directory - Create directories
   ‚Ä¢ search_files - Search for files by pattern

‚úÖ Filesystem server is ready for use!`,
            github: `üì¶ Installing MCP Server: github

‚úÖ Added GitHub server configuration
   Command: npx -y @modelcontextprotocol/server-github
   Transport: stdio
   Environment: GITHUB_TOKEN=***

üìÑ Configuration saved to .mcp-config.json

üîç Testing server connectivity...
‚úÖ Connection successful!

üìã Server Capabilities:
   Protocol Version: 2024-11-05
   Tools: ‚úÖ Supported (12 tools available)
   Resources: ‚úÖ Supported

üõ†Ô∏è Available Tools:
   ‚Ä¢ list_issues - List repository issues
   ‚Ä¢ create_issue - Create new issues
   ‚Ä¢ get_file_contents - Get file contents
   ‚Ä¢ create_pull_request - Create pull requests

‚úÖ GitHub server is ready for use!`,
          },
          test: {
            filesystem: `üîç Testing MCP server: filesystem

‚úÖ Connection successful!

üìã Server Capabilities:
   Protocol Version: 2024-11-05
   Tools: ‚úÖ Supported
   Resources: ‚úÖ Supported

üõ†Ô∏è Available Tools:
   ‚Ä¢ read_file: Read file contents from filesystem
   ‚Ä¢ write_file: Create or overwrite files
   ‚Ä¢ list_directory: List directory contents
   ‚Ä¢ search_files: Search for files by pattern

üìä Performance: Connected in 45ms
‚úÖ filesystem server is ready for use!`,
          },
          list: {
            filesystem: `üìã Configured MCP servers (3):

üîß filesystem
   Command: npx -y @modelcontextprotocol/server-filesystem /
   Transport: stdio
‚úÖ Status: ‚úÖ Available

üîß github
   Command: npx -y @modelcontextprotocol/server-github
   Transport: stdio
‚úÖ Status: ‚úÖ Available

üîß postgres
   Command: npx -y @modelcontextprotocol/server-postgres postgresql://...
   Transport: stdio
‚ö†Ô∏è Status: ‚ùå Not available (connection failed)`,
          },
        };

        return (
          outputs[action]?.[serverType] ||
          `${action} ${serverType} server completed.`
        );
      }

      function generateMCPToolOutput(server, toolName, params) {
        return `üîß Executing: ${server}.${toolName}

üìã Parameters: ${params}

‚úÖ Tool execution completed successfully
‚ö° Response time: 67ms
üîó Used MCP server: ${server}

üìÑ Results:
${
  server === "filesystem" && toolName === "read_file"
    ? 'File content retrieved successfully (1,234 characters)\nContent preview: "# NeuroLink Universal AI Platform..."'
    : server === "github" && toolName === "list_issues"
      ? 'Found 5 open issues in repository\n‚Ä¢ Issue #23: "Add MCP documentation"\n‚Ä¢ Issue #22: "Improve CLI error handling"'
      : "Operation completed successfully with expected results"
}`;
      }

      function generateMCPWorkflowOutput(workflowType, description) {
        return `üîÑ Executing MCP Workflow: ${workflowType}

üìù Description: ${description}

Step 1: Initializing workflow...
‚úÖ Workflow initialized successfully

Step 2: Connecting to MCP servers...
‚úÖ Connected to filesystem server
‚úÖ Connected to github server
‚ö†Ô∏è PostgreSQL server offline (skipping)

Step 3: Executing workflow steps...
üîß Reading project files (filesystem.read_file)
‚úÖ Found 47 files across 12 directories

ü§ñ Analyzing project structure with AI...
‚úÖ Generated analysis (1,234 tokens)

üêô Creating GitHub documentation (github.create_issue)
‚úÖ Created issue #24: "Automated workflow results"

üìä Workflow Summary:
   Duration: 12.4 seconds
   MCP Servers Used: 2 (filesystem, github)
   AI Tokens: 1,234 generated
   Operations: 4 successful, 0 failed

üéâ Workflow completed successfully!`;
      }

      // Initialize page
      document.addEventListener("DOMContentLoaded", function () {
        console.log("üß† NeuroLink Demo Interface Loaded");
        // Auto-load provider status
        checkProviders();
      });
    </script>
  </body>
</html>
